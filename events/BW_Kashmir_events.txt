add_namespace = kashmir_events

news_event = {							# this event sets up the intial influence values in Kashmir for Pakistan & India, they may be adjusted at a later date for balance/accuracy
	id = kashmir_events.1
	title = kashmir_events.1.t
	desc = kashmir_events.1.d

	hidden = yes

	fire_only_once = yes

	trigger = { always = yes }

	mean_time_to_happen = { days = 0 }

	immediate = {												# variables are set for both the Pakistan & India scope because global variables can't be created (THEY MUST STAY SYNCED)
		RAJ = {
			set_variable = {
				var = pakistan_northwest_kashmir_investment
				value = 300
			}
			set_variable = {
				var = pakistan_southwest_kashmir_investment
				value = 100
			}
			set_variable = {
				var = pakistan_central_kashmir_investment
				value = 100
			}
			set_variable = {
				var = pakistan_northeast_kashmir_investment
				value = 300
			}
			set_variable = {
				var = pakistan_southeast_kashmir_investment
				value = 100
			}
			set_variable = {
				var = india_central_kashmir_investment
				value = 100
			}
			set_variable = {
				var = india_southwest_kashmir_investment
				value = 100
			}
		}
		PAK = {
			set_variable = {
				var = pakistan_northwest_kashmir_investment
				value = 300
			}
			set_variable = {
				var = pakistan_southwest_kashmir_investment
				value = 100
			}
			set_variable = {
				var = pakistan_central_kashmir_investment
				value = 100
			}
			set_variable = {
				var = pakistan_northeast_kashmir_investment
				value = 300
			}
			set_variable = {
				var = pakistan_southeast_kashmir_investment
				value = 100
			}
			set_variable = {
				var = india_central_kashmir_investment
				value = 100
			}
			set_variable = {
				var = india_southwest_kashmir_investment
				value = 100
			}
		}
	}

	option = {
		name = kashmir_events.1.a
	}
}

news_event = {								# when India and Pakistan go to war
	id = kashmir_events.2
	title = kashmir_events.2.t
	desc = kashmir_events.2.d

	hidden = yes

	fire_only_once = yes

	trigger = {
		PAK = {
			has_war_with = RAJ
		}
	}

	mean_time_to_happen = { days = 0 }

	immediate = { 
		PAK = {
			set_country_flag = pakistan_india_war	# this flag enabling makes the Battle for Kashmir category invisible (just one scope can be used to disable it for Pakistan & India)
		}

		### this if / else block deals with the buffs/debuffs resulting from winning in influence in each province (equal influence just means nothing happens) ###

		### Northwest Kashmir ###
		if = {
			limit = {
				PAK = {	# shouldn't matter which scope the variable is checked for since they're in sync, but one should still be specified
					check_variable = {
						var = pakistan_northwest_kashmir_investment
						value = india_northwest_kashmir_investment
						compare = greater_than
					}
				}
			}
			PAK = {
				load_oob = PAK_northwest_kashmir_militia 
				add_war_support = 0.1
			}
		}
		else_if = {
			limit = {
				PAK = {	
					check_variable = {
						var = pakistan_northwest_kashmir_investment
						value = india_northwest_kashmir_investment
						compare = less_than
					}
				}
			}
			RAJ = {
				load_oob = RAJ_northwest_kashmir_militia 
				add_war_support = 0.1
			}
		}

		### Southwest Kashmir ###
		if = {
			limit = {
				PAK = {	# shouldn't matter which scope the variable is checked for since they're in sync, but one should still be specified
					check_variable = {
						var = pakistan_southwest_kashmir_investment
						value = india_southwest_kashmir_investment
						compare = greater_than
					}
				}
			}
			PAK = {
				load_oob = PAK_southwest_kashmir_militia 
				add_war_support = 0.1
			}
		}
		else_if = {
			limit = {
				PAK = {	
					check_variable = {
						var = pakistan_southwest_kashmir_investment
						value = india_southwest_kashmir_investment
						compare = less_than
					}
				}
			}
			RAJ = {
				load_oob = RAJ_southwest_kashmir_militia 
				add_war_support = 0.1
			}
		}

		### Central Kashmir ###
		if = {
			limit = {
				PAK = {	# shouldn't matter which scope the variable is checked for since they're in sync, but one should still be specified
					check_variable = {
						var = pakistan_central_kashmir_investment
						value = india_central_kashmir_investment
						compare = greater_than
					}
				}
			}
			PAK = {
				load_oob = PAK_central_kashmir_militia 
				add_war_support = 0.1
			}
		}
		else_if = {
			limit = {
				PAK = {	
					check_variable = {
						var = pakistan_central_kashmir_investment
						value = india_central_kashmir_investment
						compare = less_than
					}
				}
			}
			RAJ = {
				load_oob = RAJ_central_kashmir_militia 
				add_war_support = 0.1
			}
		}

		### Northeast Kashmir ###
		if = {
			limit = {
				PAK = {	# shouldn't matter which scope the variable is checked for since they're in sync, but one should still be specified
					check_variable = {
						var = pakistan_northeast_kashmir_investment
						value = india_northeast_kashmir_investment
						compare = greater_than
					}
				}
			}
			PAK = {
				load_oob = PAK_northeast_kashmir_militia 
				add_war_support = 0.1
			}
		}
		else_if = {
			limit = {
				PAK = {	
					check_variable = {
						var = pakistan_northeast_kashmir_investment
						value = india_northeast_kashmir_investment
						compare = less_than
					}
				}
			}
			RAJ = {
				load_oob = RAJ_northeast_kashmir_militia 
				add_war_support = 0.1
			}
		}

		### Southeast Kashmir ###
		if = {
			limit = {
				PAK = {	# shouldn't matter which scope the variable is checked for since they're in sync, but one should still be specified
					check_variable = {
						var = pakistan_southeast_kashmir_investment
						value = india_southeast_kashmir_investment
						compare = greater_than
					}
				}
			}
			PAK = {
				load_oob = PAK_southeast_kashmir_militia 
				add_war_support = 0.1
			}
		}
		else_if = {
			limit = {
				PAK = {	
					check_variable = {
						var = pakistan_southeast_kashmir_investment
						value = india_southeast_kashmir_investment
						compare = less_than
					}
				}
			}
			RAJ = {
				load_oob = RAJ_southeast_kashmir_militia 
				add_war_support = 0.1
			}
		}
	}

	option = {
		name = kashmir_events.2.a
	}
}

